\documentclass{article}

% Setting up the preamble for robust compatibility
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{xcolor}
\usepackage{listings}

% Defining colors for code syntax highlighting
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Configuring the listings package for code
\lstset{
  backgroundcolor=\color{backcolour},   % Background color
  commentstyle=\color{codegreen},       % Comment style
  keywordstyle=\color{magenta},         % Keyword style
  numberstyle=\tiny\color{codegray},    % Line number style
  stringstyle=\color{codepurple},       % String style
  basicstyle=\ttfamily\footnotesize,    % Font and size
  breakatwhitespace=false,              % Only break lines at whitespace
  breaklines=true,                      % Enable line breaking
  captionpos=b,                         % Caption position (bottom)
  keepspaces=true,                      % Keep spaces for indentation
  numbers=left,                         % Line numbers on the left
  numbersep=5pt,                        % Distance between numbers and code
  showspaces=false,                     % Do not show spaces explicitly
  showstringspaces=false,               % Do not show spaces in strings
  showtabs=false,                       % Do not show tabs explicitly
  tabsize=2,                            % Tab size
  frame=single,                         % Add a frame around the code
  rulecolor=\color{black},              % Frame color
  xleftmargin=1em,                      % Left margin for code
  xrightmargin=1em,                     % Right margin for code
  aboveskip=1em,                        % Space above the listing
  belowskip=1em                         % Space below the listing
}

% Setting up font configuration (loaded last for compatibility)
\usepackage{newtxtext}  % Modern Times-like font for text
\usepackage{newtxmath}  % Matching math font

\begin{document}

% Example usage of the listing
\begin{lstlisting}[language=Python, caption={Example Python Code}]
# Sample Python code to demonstrate the listing style
def fibonacci(n):
    if n <= 1:
        return n
    else:
        return fibonacci(n-1) + fibonacci(n-2)

print(fibonacci(10))  # Output the 10th Fibonacci number
\end{lstlisting}

\end{document}